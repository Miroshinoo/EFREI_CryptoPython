<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <title>Application de Cryptographie EB</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='style.css') }}">
</head>
<body>

<div class="container">
    <h1>
        <img src="https://em-content.zobj.net/source/apple/391/unlocked_1f513.png" class="lock-icon" alt="D√©verrouill√©">
        Application de Cryptographie EB
    </h1>

    <div class="card">
        <h2>
            <img src="https://em-content.zobj.net/source/apple/391/locked_1f512.png" class="lock-icon" alt="Verrou">
            Chiffrement
        </h2>
        <form method="POST" action="/chiffrer">
            <label for="key">Cl√© :</label>
            <input type="text" id="key" name="key">
            <button type="button" onclick="generateKey()">üîë G√©n√©rer une cl√©</button>
            <label for="message">Message :</label>
            <textarea id="message" name="message"></textarea>

            <input type="submit" value="Chiffrer">
        </form>
    </div>

    <div class="card">
        <h2>
            <img src="https://em-content.zobj.net/source/apple/391/unlocked_1f513.png" class="lock-icon" alt="D√©verrouill√©">
            D√©chiffrement
        </h2>
        <form method="POST" action="/dechiffrer">
            <label for="key_decrypt">Cl√© :</label>
            <input type="text" id="key_decrypt" name="key">

            <label for="encrypted_message">Message chiffr√© :</label>
            <textarea id="encrypted_message" name="message"></textarea>

            <input type="submit" value="D√©chiffrer">
        </form>
    </div>
</div>
<script>
function generateKey() {
    fetch("/generate_key")
        .then(response => response.json())
        .then(data => {
            document.getElementById("key").value = data.key;
        })
        .catch(error => {
            alert("Erreur lors de la g√©n√©ration de la cl√©.");
            console.error(error);
        });
}
</script>
</body>
</html>

