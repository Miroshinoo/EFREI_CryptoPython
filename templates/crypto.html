<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <title>Application de Cryptographie EB</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='style.css') }}">
</head>
<body>

<div class="container">
    <h1>Application de Cryptographie EB</h1>

    <div class="card">
        <h2>Chiffrement</h2>
        <form method="POST" action="/encrypt-form">
            <label for="key">Cl√© :</label>
            <div style="display: flex; gap: 10px;">
                <input type="text" id="key" name="key" style="flex: 1;">
                <button type="button" onclick="generateKey()">üîë G√©n√©rer une cl√©</button>
            </div>

            <label for="message">Message :</label>
            <textarea id="message" name="message"></textarea>

            <input type="submit" value="Chiffrer">
        </form>
    </div>

    <div class="card">
        <h2>D√©chiffrement</h2>
        <form method="POST" action="/decrypt-form">
            <label for="key_decrypt">Cl√© :</label>
            <input type="text" id="key_decrypt" name="key">

            <label for="encrypted_message">Message chiffr√© :</label>
            <textarea id="encrypted_message" name="message"></textarea>

            <input type="submit" value="D√©chiffrer">
        </form>
    </div>
</div>

<script>
function generateKey() {
    fetch("/generate_key")
        .then(response => response.json())
        .then(data => {
            document.getElementById("key").value = data.key;
        })
        .catch(error => {
            alert("Erreur lors de la g√©n√©ration de la cl√©.");
            console.error(error);
        });
}
</script>

</body>
</html>
